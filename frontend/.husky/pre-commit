#!/usr/bin/env sh
set -e

cd frontend
npx lint-staged
cd ..

# Keep README generated from docs sources.
if git diff --cached --name-only --diff-filter=ACMR \
  | grep -Eq "^(README\.md|SOLUTION_OVERVIEW\.md|docs/readme-header\.md)$"; then
  ./scripts/generate-readme.sh
  git add README.md
fi
